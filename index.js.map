{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport default function getImagesByQuery(query) {\n\treturn axios.get(\"https://pixabay.com/api\", {\n\t\tparams: {\n\t\t\tkey: query.key,\n\t\t\tq: query.q,\n\t\t\timage_type: query.image_type,\n\t\t\torientation: query.orientation,\n\t\t\tsafesearch: query.safesearch\n\t\t}\n\t}).then(response => {\n\t\treturn response.data\n\t});\n}","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightboxGallery = new SimpleLightbox('.gallery a', {\n\tcaptionsData: \"alt\",\n\tcaptionDelay: 250\n});\n\nexport function showLoader() {\n\tconst loader = document.querySelector(\".loader\");\n\n\tloader.style.display = \"block\";\n}\n\nexport function hideLoader() {\n\tconst loader = document.querySelector(\".loader\");\n\n\tloader.style.display = \"none\";\n}\n\nexport function createGallery(images) {\n\tconst gallery = document.querySelector(\".gallery\");\n\n\tconst galleryImages = images.map(image => {\n\t\treturn (`\n\t\t\t<li class=\"gallery-item\">\n\t\t\t\t<a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclass=\"gallery-image\"\n\t\t\t\t\t\tsrc=\"${image.webformatURL}\"\n\t\t\t\t\t\talt=\"${image.tags}\"\n\t\t\t\t\t/>\n\t\t\t\t</a>\n\t\t\t\t\t<ul class=\"image-desc\">\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p>Likes</p>\n\t\t\t\t\t\t\t<p>${image.likes}</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p>Views</p>\n\t\t\t\t\t\t\t<p>${image.views}</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p>Comments</p>\n\t\t\t\t\t\t\t<p>${image.comments}</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p>Downloads</p>\n\t\t\t\t\t\t\t<p>${image.downloads}</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t</li>\n\t\t`)\n\t}).join(\"\");\n\n\tgallery.insertAdjacentHTML(\"beforeend\", galleryImages);\n\n\tlightboxGallery.refresh();\n}\n\nexport function clearGallery() {\n\tconst gallery = document.querySelector(\".gallery\");\n\tgallery.innerHTML = \"\";\n}","import getImagesByQuery from \"./js/pixabay-api.js\"\nimport { showLoader, hideLoader, createGallery, clearGallery } from \"./js/render-functions.js\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst input = form.elements[\"search-text\"];\n\nform.addEventListener(\"submit\", e => {\n\te.preventDefault();\n\n\tclearGallery();\n\n\tif (!input.value.trim()) {\n\t\tiziToast.warning({\n\t\t\t\tmessage: \"Your entering data must be correct\",\n\t\t\t\tposition: \"topRight\"\n\t\t\t});\n\n\t\treturn\n\t} \n\n\tconst promise = getImagesByQuery({\n\t\tkey: \"53631669-5f3764d338a9b02a712e297a2\",\n\t\tq: input.value,\n\t\timage_type: \"photo\",\n\t\torientation: \"horizontal\",\n\t\tsafesearch: true\n\t});\n\n\tshowLoader();\n\n\tpromise.then(data => {\n\t\thideLoader();\n\n\t\tconst hits = data.hits;\n\t\t\n\t\tif (!hits.length) {\n\t\t\tthrow new Error();\n\t\t}\n\n\t\tcreateGallery(hits);\n\t}).catch(() => {\n\t\tiziToast.error({\n\t\t\t\tmessage: \"Sorry, there are no images matching your search query. Please try again!\",\n\t\t\t\tposition: \"topRight\"\n\t\t\t});\n\t})\n})"],"names":["getImagesByQuery","query","axios","response","lightboxGallery","SimpleLightbox","showLoader","loader","hideLoader","createGallery","images","gallery","galleryImages","image","clearGallery","form","input","iziToast","promise","data","hits"],"mappings":"owBAEe,SAASA,EAAiBC,EAAO,CAC/C,OAAOC,EAAM,IAAI,0BAA2B,CAC3C,OAAQ,CACP,IAAKD,EAAM,IACX,EAAGA,EAAM,EACT,WAAYA,EAAM,WAClB,YAAaA,EAAM,YACnB,WAAYA,EAAM,UAClB,CACH,CAAE,EAAE,KAAKE,GACAA,EAAS,IAChB,CACF,CCTA,IAAIC,EAAkB,IAAIC,EAAe,aAAc,CACtD,aAAc,MACd,aAAc,GACf,CAAC,EAEM,SAASC,GAAa,CAC5B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OACxB,CAEO,SAASC,GAAa,CAC5B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,MACxB,CAEO,SAASE,EAAcC,EAAQ,CACrC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAgBF,EAAO,IAAIG,GACxB;AAAA;AAAA,oCAE0BA,EAAM,aAAa;AAAA;AAAA;AAAA,aAG1CA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,YAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,YAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,YAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAKzB,EAAE,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,YAAaC,CAAa,EAErDR,EAAgB,QAAO,CACxB,CAEO,SAASU,GAAe,CAC9B,MAAMH,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACrB,CC5DA,MAAMI,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,SAAS,aAAa,EAEzCA,EAAK,iBAAiB,SAAU,GAAK,CAKpC,GAJA,EAAE,eAAc,EAEhBD,IAEI,CAACE,EAAM,MAAM,OAAQ,CACxBC,EAAS,QAAQ,CACf,QAAS,qCACT,SAAU,UACd,CAAI,EAEF,MACA,CAED,MAAMC,EAAUlB,EAAiB,CAChC,IAAK,qCACL,EAAGgB,EAAM,MACT,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAE,EAEDV,IAEAY,EAAQ,KAAKC,GAAQ,CACpBX,IAEA,MAAMY,EAAOD,EAAK,KAElB,GAAI,CAACC,EAAK,OACT,MAAM,IAAI,MAGXX,EAAcW,CAAI,CACpB,CAAE,EAAE,MAAM,IAAM,CACdH,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACd,CAAI,CACJ,CAAE,CACF,CAAC"}